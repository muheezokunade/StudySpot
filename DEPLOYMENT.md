# StudySpot Deployment Guide

This guide will help you deploy the StudySpot application with the backend on Render and the frontend on Netlify.

## Backend Deployment (Render)

1. Create a Render account at [render.com](https://render.com)

2. Connect your GitHub repository to Render

3. Create a new Web Service:
   - Use the "Blueprint" option and select your repository
   - Render will automatically detect the `render.yaml` configuration

4. Set up environment variables in Render dashboard:
   - `DATABASE_URL`: Your PostgreSQL connection string
   - `OPENAI_API_KEY`: Your OpenAI API key
   - `SESSION_SECRET`: Can be auto-generated by Render

5. Deploy the service and note the provided URL (e.g., `https://studyspot-api.onrender.com`)

## Frontend Deployment (Netlify)

1. Create a Netlify account at [netlify.com](https://netlify.com)

2. Connect your GitHub repository to Netlify

3. Configure build settings:
   - Build command: `npm run build:client`
   - Publish directory: `dist/public`

4. Update the redirect rule in `netlify.toml`:
   - Change the backend URL in the redirect rule to match your Render backend URL:
   ```
   [[redirects]]
     from = "/api/*"
     to = "https://your-render-app-name.onrender.com/api/:splat"
     status = 200
     force = true
   ```

5. Deploy the site

## Environment Variables

Make sure to set these environment variables:

### Backend (Render)
- `NODE_ENV`: Set to "production"
- `DATABASE_URL`: Your PostgreSQL connection string
- `OPENAI_API_KEY`: Your OpenAI API key
- `SESSION_SECRET`: Strong random string for securing sessions

## Testing the Deployment

1. Once both deployments are complete, visit your Netlify URL
2. Test the login functionality
3. Test the AI chat feature to confirm the OpenAI integration is working

## Troubleshooting

- If you encounter CORS issues, check that the frontend is correctly proxying requests to the backend
- If the OpenAI integration doesn't work, verify the API key is properly set in Render
- Check Render logs for any backend errors
- Check Netlify deploy logs for any frontend build errors 